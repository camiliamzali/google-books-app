(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t,a){e.exports=a(64)},64:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(27),r=a.n(c),l=a(8),s=a(6),i=a(31),m=a(28),u=a(10),d=a(11),h=a(13),b=a(12),v=a(14);var f=function(e){return o.a.createElement("div",{className:"\n        jumbotron\n        ".concat(e.fluid?"jumbotron-fluid":"","\n        bg-").concat(e.bg||"default","\n        text-").concat(e.color||"dark","\n        text-center\n        ")},o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row justify-content-center"},o.a.createElement("div",{className:"col-12"},o.a.createElement("h1",null,e.pageTitle))),o.a.createElement("div",{className:"row justify-content-around"},o.a.createElement("div",{className:"col-12 col-md-6"},o.a.createElement(l.b,{to:"/search",className:"btn btn-info btn-lg"},"Search")),o.a.createElement("div",{className:"col-12 col-md-6"},o.a.createElement(l.b,{to:"/saved",className:"btn btn-warning btn-lg"},"Saved")))))},k=function(e){return o.a.createElement("div",{className:"\n        row \n        justify-content-".concat(e.justify||"start","\n        align-items-").concat(e.align||"stretch","\n      ")},e.children)},E=function(e){return o.a.createElement("div",{className:"\n        mb-4\n        col-".concat(e.xs||"12"," \n        ").concat(e.sm?"col-sm-".concat(e.sm):"","\n        ").concat(e.md?"col-md-".concat(e.md):"","\n      ")},e.children)},g=function(e){return o.a.createElement("div",{className:"card"},e.title?o.a.createElement("h4",{className:"card-header"},e.title):"",e.image?o.a.createElement("img",{src:e.image,alt:e.title,className:"card-img"}):"",o.a.createElement("div",{className:"card-body"},e.children))},p=a(9),N=a.n(p),S=function(e){return N.a.post("/api/books",e)},B=function(){return N.a.get("/api/books")},j=function(e){return N.a.delete("/api/books/".concat(e))},y=function(e){return N.a.get("https://www.googleapis.com/books/v1/volumes",{params:{q:e}})},I=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(o)))).state={searchTerm:"",bookList:[],savedBookIds:[]},a.handleInputChange=function(e){var t=e.target,n=t.name,o=t.value;a.setState(Object(m.a)({},n,o))},a.handleFormSubmit=function(e){e.preventDefault(),y(a.state.searchTerm).then(function(e){var t=e.data.items.map(function(e){return{bookId:e.id,title:e.volumeInfo.title,authors:e.volumeInfo.authors,description:e.volumeInfo.description,image:e.volumeInfo.imageLinks?e.volumeInfo.imageLinks.thumbnail:""}});return a.setState({bookList:t})}).then(a.retrieveSavedBooks).catch(function(e){return console.log(e)})},a.handleSaveBook=function(e){var t=a.state.bookList.find(function(t){return t.bookId===e});S(t).then(function(){var t=[].concat(Object(i.a)(a.state.savedBookIds),[e]);a.setState({savedBookIds:t})})},a.retrieveSavedBooks=function(){B().then(function(e){var t=e.data.map(function(e){return e.bookId});a.setState({savedBookIds:t})})},a}return Object(v.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement(f,{fluid:!0,bg:"dark",color:"light",pageTitle:"Search For Books"}),o.a.createElement("div",{className:"container-fluid"},o.a.createElement(k,null,o.a.createElement(E,{xs:12,md:4},o.a.createElement(g,{title:"Search for a book"},o.a.createElement("form",{onSubmit:this.handleFormSubmit},o.a.createElement("input",{type:"text",className:"form-control",placeholder:"Search for a book",onChange:this.handleInputChange,value:this.state.searchTerm,name:"searchTerm"}),o.a.createElement("button",{type:"submit",className:"btn btn-block btn-dark"},"Search For Books")))),o.a.createElement(E,{xs:12,md:8},o.a.createElement(k,null,this.state.bookList.length?this.state.bookList.map(function(t){return o.a.createElement(E,{key:t.id,md:6},o.a.createElement(g,{title:t.title,image:t.image?t.image:void 0},o.a.createElement("small",{className:"text-muted"},"By: ".concat(t.authors.join(", "))),o.a.createElement("p",null,t.description),o.a.createElement("button",{disabled:!!e.state.savedBookIds.includes(t.bookId)||void 0,onClick:function(){return e.handleSaveBook(t.bookId)},className:"btn btn-success btn-sm"},"Save Book")))}):o.a.createElement("h2",{className:"text-center"},"Search for books to begin."))))))}}]),t}(n.Component),w=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(o)))).state={bookList:[]},a.handleGetSavedBooks=function(){B().then(function(e){var t=e.data;a.setState({bookList:t})}).catch(function(e){return console.log(e)})},a.handleRemoveBook=function(e){j(e).then(a.handleGetSavedBooks).catch(function(e){return console.log(e)})},a}return Object(v.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleGetSavedBooks()}},{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement(f,{fluid:!0,bg:"dark",color:"light",pageTitle:"Viewing Saved Books"}),o.a.createElement("div",{className:"container-fluid"},o.a.createElement(k,null,this.state.bookList.length?this.state.bookList.map(function(t){return o.a.createElement(E,{key:t._id,md:4},o.a.createElement(g,{title:t.title,image:t.image?t.image:void 0},o.a.createElement("small",{className:"text-muted"},"By: ".concat(t.authors.join(", "))),o.a.createElement("p",null,t.description),o.a.createElement("button",{onClick:function(){return e.handleRemoveBook(t._id)},className:"btn btn-danger btn-sm"},"Remove Book")))}):o.a.createElement("h2",{className:"text-center"},"No saved books, yet."))))}}]),t}(n.Component);var x=function(){return o.a.createElement(l.a,null,o.a.createElement(o.a.Fragment,null,o.a.createElement(s.c,null,o.a.createElement(s.a,{exact:!0,path:"/",component:I}),o.a.createElement(s.a,{exact:!0,path:"/search",component:I}),o.a.createElement(s.a,{exact:!0,path:"/saved",component:w}))))};r.a.render(o.a.createElement(x,null),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.ac72cd79.chunk.js.map